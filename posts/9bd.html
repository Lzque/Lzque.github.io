<!DOCTYPE html>

<html lang="zh-CN">

<head>
    
    <title>Git基本使用 - 白糖加冰</title>
    <meta charset="UTF-8">
    <meta name="keywords" content="博客 技术，java，spring，学习，记录">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">
    
    <link rel="shortcut icon" href="https://raw.githubusercontent.com/Lzque/blogImage/main/theme/202209201054757.ico" type="image/x-icon" />
    <meta name="description" content="最近使用 Hexo+GitHub 搭建博客，所以对 Git 做下记录总结。 概述Git 是一个分布式的版本控制工具。两个关键词：  分布式，即没有限制说哪个文件仓库是“中央服务器”，每个人的电脑都拥有完整的版本库，无需联网就可以独立的实现版本控制，也可以让某一台电脑作为中央服务器，方便大家交流修改，并且如果本地仓库出问题了，去其他人哪里复制一个就好了；也有集中式的版本控制工具，如SVN和CVS，工">
<meta property="og:type" content="article">
<meta property="og:title" content="Git基本使用">
<meta property="og:url" content="https://lzque.github.io/posts/9bd.html">
<meta property="og:site_name" content="白糖加冰">
<meta property="og:description" content="最近使用 Hexo+GitHub 搭建博客，所以对 Git 做下记录总结。 概述Git 是一个分布式的版本控制工具。两个关键词：  分布式，即没有限制说哪个文件仓库是“中央服务器”，每个人的电脑都拥有完整的版本库，无需联网就可以独立的实现版本控制，也可以让某一台电脑作为中央服务器，方便大家交流修改，并且如果本地仓库出问题了，去其他人哪里复制一个就好了；也有集中式的版本控制工具，如SVN和CVS，工">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Lzque/blogImage@main/writing/202209301435345.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Lzque/blogImage@main/writing/202209301444222.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Lzque/blogImage@main/writing/202209301509150.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Lzque/blogImage@main/writing/202209301715000.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Lzque/blogImage@main/writing/202209302038985.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Lzque/blogImage@main/writing/202209302125429.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Lzque/blogImage@main/writing/202210061153444.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Lzque/blogImage@main/writing/202210011144974.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Lzque/blogImage@main/writing/202210020919753.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Lzque/blogImage@main/writing/202210020912339.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Lzque/blogImage@main/writing/202210020953716.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Lzque/blogImage@main/writing/202210021027907.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Lzque/blogImage@main/writing/202210021032430.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Lzque/blogImage@main/writing/202210021041551.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Lzque/blogImage@main/writing/202210021034211.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Lzque/blogImage@main/writing/202210021101048.png">
<meta property="article:published_time" content="2022-09-30T02:14:11.000Z">
<meta property="article:modified_time" content="2022-10-06T07:29:29.702Z">
<meta property="article:author" content="xsc">
<meta property="article:tag" content="学习笔记">
<meta property="article:tag" content="Git 基础">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/Lzque/blogImage@main/writing/202209301435345.png">
    
<link rel="stylesheet" href="/lib/fancybox/fancybox.css">
<link rel="stylesheet" href="/lib/justifiedGallery/justifiedGallery.min.css">
<link rel="stylesheet" href="/lib/mdui_043tiny/mdui.css">


    <link rel="stylesheet" href="/lib/iconfont/iconfont.css?v=1665042348051">
    
    <link rel="stylesheet" href="/css/style.css?v=1665042348051">

    
        
            <link rel="stylesheet" href="/custom.css?v=1665042348051">
        
    
<meta name="generator" content="Hexo 5.4.2"><link rel="alternate" href="/atom.xml" title="白糖加冰" type="application/atom+xml">
</head>

<body class="mdui-drawer-body-left">
    <div id="nexmoe-background">
        <div class="nexmoe-bg" style="background-image: url(https://raw.githubusercontent.com/Lzque/blogImage/main/theme/202209191442217.jpg)"></div>
        <div class="mdui-appbar mdui-shadow-0">
            <div class="mdui-toolbar">
                <a mdui-drawer="{target: '#drawer', swipe: true}" title="menu" class="mdui-btn mdui-btn-icon mdui-ripple"><i class="mdui-icon nexmoefont icon-menu"></i></a>
                <div class="mdui-toolbar-spacer"></div>
                <!--<a href="javascript:;" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">search</i></a>-->
                <a href="/" title="xsc" class="mdui-btn mdui-btn-icon"><img src="https://cdn.jsdelivr.net/gh/Lzque/blogImage@main/theme/keli.jpg" alt="xsc"></a>
            </div>
        </div>
    </div>
    <div id="nexmoe-header">
        <div class="nexmoe-drawer mdui-drawer" id="drawer">
    <div class="nexmoe-avatar mdui-ripple">
        <a href="/" title="xsc">
            <img src="https://cdn.jsdelivr.net/gh/Lzque/blogImage@main/theme/keli.jpg" alt="xsc" alt="xsc">
        </a>
    </div>
    <div class="nexmoe-count">
        <div><span>文章</span>3</div>
        <div><span>标签</span>4</div>
        <div><span>分类</span>1</div>
    </div>
    <div class="nexmoe-list mdui-list" mdui-collapse="{accordion: true}">
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple false" href="/" title="回到首页">
            <i class="mdui-list-item-icon nexmoefont icon-home"></i>
            <div class="mdui-list-item-content">
                回到首页
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple false" href="/archive.html" title="文章归档">
            <i class="mdui-list-item-icon nexmoefont icon-container"></i>
            <div class="mdui-list-item-content">
                文章归档
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple false" href="/PY.html" title="我的朋友">
            <i class="mdui-list-item-icon nexmoefont icon-unorderedlist"></i>
            <div class="mdui-list-item-content">
                我的朋友
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple false" href="/about.html" title="关于本站">
            <i class="mdui-list-item-icon nexmoefont icon-info-circle"></i>
            <div class="mdui-list-item-content">
                关于本站
            </div>
        </a>
        
    </div>
    <aside id="nexmoe-sidebar">
    
        
        <div class="nexmoe-widget-wrap">
    <div class="nexmoe-widget nexmoe-search">
        
            <form id="search_form">
                <label><input class="st-default-search-input" id="search_value" name="q" type="search" placeholder="搜索" style="
                    font-size: 15px !important;
                    height: 56px !important;
                    background-image: none;
                "></label>
            </form>
         
    </div>
</div>


	<script async src="/js/search.js?v=1665042348052"></script>



    
        
        <div class="nexmoe-widget-wrap">
	<div class="nexmoe-widget nexmoe-social">
		<a
			class="mdui-ripple"
			href="tencent:://AddContact/?fromId=45&fromSubId=1&subcmd=all&uin=2873689712&website=www.oicqzone.com"
			target="_blank"
			mdui-tooltip="{content: 'QQ'}"
			style="
				color: rgb(249, 174, 8);
				background-color: rgba(249, 174, 8, .1);
			"
		>
			<i
				class="nexmoefont icon-QQ"
			></i> </a
		><a
			class="mdui-ripple"
			href="https://github.com/Lzque"
			target="_blank"
			mdui-tooltip="{content: 'GitHub'}"
			style="
				color: rgb(25, 23, 23);
				background-color: rgba(25, 23, 23, .1);
			"
		>
			<i
				class="nexmoefont icon-github"
			></i> </a
		><a
			class="mdui-ripple"
			href="/atom.xml"
			target="_blank"
			mdui-tooltip="{content: 'RSS'}"
			style="
				color: rgb(247, 132, 34);
				background-color: rgba(247, 132, 34, .1);
			"
		>
			<i
				class="nexmoefont icon-rss"
			></i> </a
		>
	</div>
</div>

    
        
        
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">文章分类</h3>
    <div class="nexmoe-widget">

      <ul class="category-list">

        


        

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Git/">Git</a>
          <span class="category-list-count">2</span>
        </li>

        
      </ul>

    </div>
  </div>


    
        
        
  <div class="nexmoe-widget-wrap">
    <div id="randomtagcloud" class="nexmoe-widget tagcloud nexmoe-rainbow">
      <a href="/tags/Git-%E5%9F%BA%E7%A1%80/" style="font-size: 10px;">Git 基础</a> <a href="/tags/Git-%E6%BC%94%E7%BB%83/" style="font-size: 10px;">Git 演练</a> <a href="/tags/Git-%E8%BF%9B%E9%98%B6/" style="font-size: 10px;">Git 进阶</a> <a href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" style="font-size: 20px;">学习笔记</a>
    </div>
    
      <script>
        var maxTagcloud = parseInt(17);
        var tags_length = parseInt(4);
        var tags_arr = [];
        for(var i = 0; i < tags_length; i++){
          tags_arr.push(i);
        }
        tags_arr.sort(function (l, r) {
          return Math.random() > 0.5 ? -1 : 1;
        });
        tags_arr = tags_arr.slice(0, maxTagcloud < tags_length ? tags_length - maxTagcloud : 0);
        for(var tag_i = 0; tag_i < tags_arr.length; tag_i++){
          document.getElementById("randomtagcloud").children[tags_arr[tag_i]].style.display = 'none';
        }
      </script>
    
  </div>

    
        
        
        
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">文章归档</h3>
    <div class="nexmoe-widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/">2022</a><span class="archive-list-count">3</span></li></ul>
    </div>
  </div>



    
        
        
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">最新文章</h3>
    <div class="nexmoe-widget">
      <ul>
        
          <li>
            <a href="/posts/141e.html">在IDEA中使用Git</a>
          </li>
        
          <li>
            <a href="/posts/35bb.html">Git远程仓库--GitHub</a>
          </li>
        
          <li>
            <a href="/posts/9bd.html">Git基本使用</a>
          </li>
        
      </ul>
    </div>
  </div>

    
        
        <div class="nexmoe-widget-wrap">
    <div class="nexmoe-widget nexmoe-link">
		<ul>
        
		</ul>
    </div>
</div>
<style>
.nexmoe-widget-wrap .nexmoe-link ul li a {
    text-align : center;
}
.nexmoe-widget-wrap .nexmoe-link ul li a img {
    max-width : 100%;
}
.nexmoe-widget-wrap .nexmoe-link ul li a p {
    margin: 10px 0;
}
</style>

    
</aside>

    <div class="nexmoe-copyright">
        &copy; 2022 xsc
        Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
        & <a href="https://github.com/theme-nexmoe/hexo-theme-nexmoe" target="_blank">Nexmoe</a>

        <br>本站总访问量 <span id="busuanzi_value_site_pv"></span> 次 <br>本站访客数 <span id="busuanzi_value_site_uv"></span> 人次
    </div>
</div><!-- .nexmoe-drawer -->
    </div>
    <div id="nexmoe-content">
        <div class="nexmoe-primary">
            <div class="nexmoe-post">

  <article>
      
          <div class="nexmoe-post-cover" style="padding-bottom: 43.786982248520715%;"> 
              <img src="https://cdn.jsdelivr.net/gh/Lzque/blogImage@main/writing/202209301025556.png" alt="Git基本使用" loading="lazy">
              <h1>Git基本使用</h1>
          </div>
      
      
      <div class="nexmoe-post-meta nexmoe-rainbow" style="margin:10px 0!important;">
    <a><i class="nexmoefont icon-calendar-fill"></i>2022年09月30日</a>
</div>
      
    <a><i class="nexmoefont icon-areachart"></i>约2.6k字</a>
    <a><i class="nexmoefont icon-time-circle-fill"></i>预计需要9分钟</a>


      <p>最近使用 Hexo+GitHub 搭建博客，所以对 Git 做下记录总结。</p>
<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>Git 是一个分布式的版本控制工具。两个关键词：</p>
<ol>
<li><p>分布式，即没有限制说哪个文件仓库是“中央服务器”，每个人的电脑都拥有完整的版本库，无需联网就可以独立的实现版本控制，也可以让某一台电脑作为中央服务器，方便大家交流修改，并且如果本地仓库出问题了，去其他人哪里复制一个就好了；也有集中式的版本控制工具，如SVN和CVS，工作时要连入网络在中央服务器中下载代码，修改也要提交到中央服务器上才能记录一个版本，这对于网速和中央服务器的稳定都有一定要求，一般是企业内部使用。</p>
</li>
<li><p>版本控制：即可以对其工作空间下的文件修改(增删改)实现管理，每次提交就记录一次版本，像游戏里的存档，可以根据需求回退到某一次提交，可以放心的修改代码了；并且在发现 bug 的时候也方便溯源。</p>
</li>
</ol>
<h2 id="Git-安装和基本配置"><a href="#Git-安装和基本配置" class="headerlink" title="Git 安装和基本配置"></a>Git 安装和基本配置</h2><p>下载地址：<a target="_blank" rel="noopener" href="https://git-scm.com/download">https://git-scm.com/download</a></p>
<p><img data-fancybox="gallery" src="https://cdn.jsdelivr.net/gh/Lzque/blogImage@main/writing/202209301435345.png" alt="Git下载" data-caption="Git下载" loading="lazy"></p>
<p>下载完成后，双击安装，随后鼠标右键可以看到以下两个菜单就说明安装成功了。</p>
<p><img data-fancybox="gallery" src="https://cdn.jsdelivr.net/gh/Lzque/blogImage@main/writing/202209301444222.png" alt="Git菜单" data-caption="Git菜单" loading="lazy"></p>
<ol>
<li><p>Git GUI Here：Git 提供的图形操作页面工具</p>
</li>
<li><p>Git Bash Here：Git 提供的命令行工具，后续主要在此进行操作</p>
<ul>
<li>补充：Git Bash 中选中即复制，鼠标中键即可粘贴</li>
</ul>
</li>
</ol>
<p>基本配置：</p>
<ol>
<li><p>需要 Git Bash 配置用户名和邮箱地址，每次和提交代码一并提交，表明此版本是谁做出的修改</p>
</li>
<li><p>配置：</p>
<ul>
<li><code>git config --global user.name “用户名”</code></li>
<li><code>git config --global user.email “邮箱地址“</code></li>
</ul>
</li>
<li><p>查看：</p>
<ul>
<li><code>git config --global user.name</code></li>
<li><code>git config --global user.email</code></li>
<li>或 <code>git config --global --list</code></li>
</ul>
</li>
<li><p>实际上，这些信息存储在用户目录下的 .gitconfig 文件()中</p>
<p><img data-fancybox="gallery" src="https://cdn.jsdelivr.net/gh/Lzque/blogImage@main/writing/202209301509150.png" alt="git 用户信息存储" data-caption="git 用户信息存储" loading="lazy"></p>
</li>
</ol>
<p>在 Git Bash 中可以使用一些 Linux 命令来简化操作：</p>
<ul>
<li>ls 查看当前目录文件</li>
<li>cat 查看文件内容</li>
<li>touch 创建文件，可跟文件名或文件路径</li>
<li>vi 进入 vi 编辑器</li>
<li>cd 目录切换</li>
</ul>
<p>常用命令可配置别名，不局限于 Git 命令，以下是我在使用的一种方式：</p>
<ol>
<li><p>进入 Git Bash，执行 <code>touch ~/.bashrc</code>（用户目录下新建 .bashrc 文件）</p>
</li>
<li><p>在文件中输入要配置的命令别名 (等号两边不能留空)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#用于输出git提交日志</span><br><span class="line">alias git-log=&#x27;git log --pretty=oneline --all --graph --abbrev-commit&#x27;  </span><br><span class="line">#用于输出当前目录所有文件及基本信息</span><br><span class="line">alias ll=&#x27;ls -al&#x27;</span><br><span class="line">#用于快速上传博客</span><br><span class="line">alias hc=&#x27;hexo clean&#x27;  </span><br><span class="line">alias hg=&#x27;hexo generate&#x27;  </span><br><span class="line">alias hd=&#x27;hexo clean &amp;&amp; hexo generate &amp;&amp; hexo deploy&#x27;  </span><br><span class="line">alias hs=&#x27;hexo clean &amp;&amp; hexo generate &amp;&amp; hexo s&#x27; ```</span><br></pre></td></tr></table></figure></li>
<li><p>然后打开 Git Bash，第一次应该要加载一下，输入 <code>source ~/.bashrc</code> 命令执行即可</p>
</li>
</ol>
<p>接下来进行本地仓库的初始化，以此进行版本控制：</p>
<ol>
<li><p>在一个空目录下右键进入 Git Bash 窗口</p>
</li>
<li><p>执行 <code>git init</code> 命令，初始化本地仓库</p>
<ul>
<li><code>git init [directory name]</code>    新建一个目录并将其初始化为本地仓库</li>
</ul>
</li>
<li><p>出现 .git 目录(此为隐藏目录)就完成了</p>
</li>
</ol>
<h2 id="Git-文件分区和基础操作指令"><a href="#Git-文件分区和基础操作指令" class="headerlink" title="Git 文件分区和基础操作指令"></a>Git 文件分区和基础操作指令</h2><p>在 Git 工作目录(初始化的本地仓库)下，文件被修改(新建、删除、更新)后会放到工作区中，并且这些改动是临时的，如果需要永久存储则需要把文件添加到暂存区，然后再从暂存区提交到本地仓库，一般会携带一段消息说明此次改动的内容或原因。</p>
<p><img data-fancybox="gallery" src="https://cdn.jsdelivr.net/gh/Lzque/blogImage@main/writing/202209301715000.png" alt="Git 文件状态分区" data-caption="Git 文件状态分区" loading="lazy"></p>
<h4 id="基础操作指令"><a href="#基础操作指令" class="headerlink" title="基础操作指令"></a>基础操作指令</h4><ol>
<li><p>查看文件的修改状态(是否有文件处于暂存区、工作区)：<code>git status</code></p>
<p><img data-fancybox="gallery" src="https://cdn.jsdelivr.net/gh/Lzque/blogImage@main/writing/202209302038985.png" alt="Git 文件状态" data-caption="Git 文件状态" loading="lazy"></p>
</li>
<li><p>从工作区添加一个或多个文件修改到暂存区：git add 文件相对路径|通配符</p>
<ul>
<li>常用的有：<code>git add --all</code>，添加本地仓库中所有的修改，即使在子目录下执行</li>
</ul>
</li>
<li><p>提交暂存区的内容到本地仓库的当前分支：<code>git commit -m&quot;修改的说明&quot;</code></p>
<ul>
<li><p>提交间隔时间要短，以几个小时的开发时间为宜，一般每完成一个小功能就提交一次，确认修复一个 bug 也提交一次，保证代码不会丢失</p>
</li>
<li><p>修改说明要明确且清晰描述本次提交的内容和目的，使得多人协作时其他成员无需查看代码便了解此次更新的概况</p>
</li>
<li></li>
</ul>
</li>
<li><p>改写上一次提交信息：<code>git commit --amend</code>，此时会进入 vi 编辑器进行提交消息的改写</p>
</li>
<li><p>查看提交日志：<code>git log [option]</code>，option可以是多个，用空格隔开，常用的有：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">--all：显示所有分支</span><br><span class="line">--pretty=oneline：将每次提交的信息显示为一行</span><br><span class="line">--abbrev-commit：输出更简短的 commitId</span><br><span class="line">--graph：在日志旁以 ASCII 图形显示分支与合并历史</span><br></pre></td></tr></table></figure>

<p>示例（可以通过配置别名的方法简化指令）：</p>
<p><img data-fancybox="gallery" src="https://cdn.jsdelivr.net/gh/Lzque/blogImage@main/writing/202209302125429.png" alt="Git 提交日志查看" data-caption="Git 提交日志查看" loading="lazy"></p>
</li>
<li><p>版本切换：<code>git reset --hard|--soft commitId</code></p>
<ul>
<li>–hard和 –soft 二选一：        <ul>
<li>–hard，抛弃当前工作区的修改     </li>
<li>–soft，回退到之前的版本，但保留当前工作区的修改，可以重新提交</li>
</ul>
</li>
</ul>
<ul>
<li>可以通过 commitId 切换不同的版本      </li>
</ul>
<ul>
<li>回退到某一个版本后，其后的提交日志也将无法通过 git log 的方式查看      </li>
</ul>
<ul>
<li>查看版本回退后损失的提交记录：<code>git reflog</code></li>
</ul>
</li>
<li><p>添加文件到忽略列表，即文件不再受到 Git 管理，不需要同步到仓库中，如在 JavaWeb 项目中开发产生的 target 目录文件等临时文件：</p>
<ul>
<li><p>在仓库目录下创建一个 .gitignore 文件     </p>
</li>
<li><p>编辑文件，列出不想被管理的文件，可以是具体的文件名或通配符：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#忽略所有 .a 结尾的文件 </span><br><span class="line">*.a</span><br><span class="line">#但 lib.a 除外 </span><br><span class="line">!lib.a</span><br><span class="line">#仅仅忽略项目根目录下的 TODO 文件，不包括 subdir/TODO </span><br><span class="line">TODO</span><br><span class="line">#忽略 build/ 目录下的所有文件 </span><br><span class="line">build/</span><br><span class="line">#会忽略 doc/notes.txt 但不包括 doc/server/arch.txt</span><br><span class="line">doc/*.txt</span><br></pre></td></tr></table></figure></li>
<li><p>执行<code>git config core.excludesfile .gitignore</code>指定忽略列表文件，可以看到 .git 中的 config 文件多了一项<code>excludesfile = .gitignore</code>    </p>
</li>
<li><p>补充：对于跟踪过的文件添加到忽略列表是不起作用的，如需生效，需要删除本地缓存，执行<code>git rm -r --cached .</code>、<code>git add --all</code>、<code>git commit -m&quot;修改说明&quot;</code></p>
</li>
<li></li>
</ul>
</li>
</ol>
<h2 id="Git-分支"><a href="#Git-分支" class="headerlink" title="Git 分支"></a>Git 分支</h2><p>分支可以使得一些工作(如 bug 修复、开发新功能等)从主线分离出来，可以得到版本控制的同时也不影响主线或其他分支的开发，并在开发完成后进行合并，提高了协同开发的效率。</p>
<h4 id="基础指令"><a href="#基础指令" class="headerlink" title="基础指令"></a>基础指令</h4><ol>
<li><p>查看本地所有分支：<code>git branch</code></p>
</li>
<li><p>创建新分支：<code>git branch 新分支名</code></p>
</li>
<li><p>切换分支：<code>git checkout 分支名</code></p>
</li>
<li><p>创建并切换到新分支：<code>git checkout -b 新分支名</code></p>
</li>
<li><p>把“分支名称”所对应的分支提交合并到当前分支上：<code>git merge --no-ff 分支名称</code></p>
<ul>
<li><p><code>--no-ff</code>表示关闭 Fast-forward 模式，即每次合并都会新建一个提交，否则在 Fast-forward 模式下，条件允许时只会简单的移动 HEAD 指针，不创建提交，合并图和更新没区别，看不出合并的痕迹：</p>
<p><img data-fancybox="gallery" src="https://cdn.jsdelivr.net/gh/Lzque/blogImage@main/writing/202210061153444.png" alt="不同合并模式的日志" data-caption="不同合并模式的日志" loading="lazy"></p>
</li>
<li></li>
</ul>
</li>
<li><p>删除非当前分支：</p>
<ul>
<li><code>git branch -d 分支名</code>：删除分支，但会检查此分支的提交是否已经合并到主分支上   </li>
<li><code>git branch -D 分支名</code>：强制删除，不做任何检查</li>
</ul>
</li>
</ol>
<h2 id="概念分析"><a href="#概念分析" class="headerlink" title="概念分析"></a>概念分析</h2><ol>
<li><p>Git 本地创建的默认分支为 master，这个分支并不特殊，只是 Git 的默认设置，可在用户目录下的 .gitconfig 文件进行修改（GitHub 中默认分支是 main）：</p>
<p><img data-fancybox="gallery" src="https://cdn.jsdelivr.net/gh/Lzque/blogImage@main/writing/202210011144974.png" alt="Git 默认分支修改" data-caption="Git 默认分支修改" loading="lazy"></p>
</li>
<li><p>HEAD 特殊指针，它指向当前操作的分支，一般是在查看提交日志时看到：</p>
<p><img data-fancybox="gallery" src="https://cdn.jsdelivr.net/gh/Lzque/blogImage@main/writing/202210020919753.png" alt="HEAD 使用" data-caption="HEAD 使用" loading="lazy"></p>
</li>
<li><p>Git 创建新分支后，新分支会继承主分支的所有提交，切换分支后，我们所做的提交将属于此分支，HEAD 指向新分支的最新提交：</p>
<p><img data-fancybox="gallery" src="https://cdn.jsdelivr.net/gh/Lzque/blogImage@main/writing/202210020912339.png" alt="新分支创建" data-caption="新分支创建" loading="lazy"></p>
</li>
<li><p>当在新分支上的工作完成后，我们可以把其合并到主分支中，并且作为新的提交：</p>
<p><img data-fancybox="gallery" src="https://cdn.jsdelivr.net/gh/Lzque/blogImage@main/writing/202210020953716.png" alt="Git 分支合并" data-caption="Git 分支合并" loading="lazy"></p>
</li>
<li><p>合并冲突的产生：当从创建分支开始，在两条分支上都对同一文件进行修正提交时，就有可能产生冲突，例如对同一部分或同一行记录进行修改提交，合并时会出现：</p>
<ul>
<li><p><img data-fancybox="gallery" src="https://cdn.jsdelivr.net/gh/Lzque/blogImage@main/writing/202210021027907.png" alt="Git 合并冲突" data-caption="Git 合并冲突" loading="lazy"></p>
</li>
<li><p>此时需要对冲突的文件进行修改，决定最终提交：</p>
</li>
<li><p><img data-fancybox="gallery" src="https://cdn.jsdelivr.net/gh/Lzque/blogImage@main/writing/202210021032430.png" alt="修改冲突文件" data-caption="修改冲突文件" loading="lazy"></p>
</li>
<li><p><img data-fancybox="gallery" src="https://cdn.jsdelivr.net/gh/Lzque/blogImage@main/writing/202210021041551.png" alt="最终修改" data-caption="最终修改" loading="lazy"></p>
</li>
<li><p>然后使用<code>git add --all</code>和<code>git commit -m&quot;&quot;</code>做一次新提交即可：</p>
</li>
<li><p><img data-fancybox="gallery" src="https://cdn.jsdelivr.net/gh/Lzque/blogImage@main/writing/202210021034211.png" alt="冲突解决日志" data-caption="冲突解决日志" loading="lazy"></p>
</li>
<li><p>补充：如果此时想要撤销合并，可以使用版本回滚<code>git reset --hard commitId</code></p>
</li>
<li></li>
</ul>
</li>
<li><p>避免冲突：在实际开发中，每个人负责开发的部分不同，冲突产生的原因一般是由于消息滞后，未及时同步开发进度，在修改前未及时的把对方的分支合并到自己的分支上，此时做出修改就易发生冲突。因此，避免冲突的关键是版本落后的一方应自觉的把对方的分支进行合并再工作，并且发生冲突要与对方进行协商再做修改，保证代码的安全稳定。</p>
</li>
</ol>
<h2 id="一般开发使用分支介绍"><a href="#一般开发使用分支介绍" class="headerlink" title="一般开发使用分支介绍"></a>一般开发使用分支介绍</h2><p><img data-fancybox="gallery" src="https://cdn.jsdelivr.net/gh/Lzque/blogImage@main/writing/202210021101048.png" alt="分支使用" data-caption="分支使用" loading="lazy"></p>
<ol>
<li><p>master或main(生产分支、主分支)：中小规模项目作为线上运行的分支；</p>
</li>
<li><p>develop(开发分支)：从master上创建的分支，一般作为开发部门主要开发的分支，但开发人员也是在此基础上创建分支(feature/xxxx分支)开发，然后合并到此分支上，阶段开发完成后，在将此分支合并到master分支上，准备上线</p>
</li>
<li><p>feature/xxx 分支：从develop创建的分支，在同期并行开发，完成相应功能后合并到develop分支上，并删除本分支</p>
</li>
<li><p>hotfix/xxx 分支：从master派生的分支，一般用于线上bug修复，修复完成后合并到master、test、develop分支上</p>
</li>
<li><p>当然还有 test(测试分支)、pre(预上线分支)等，并且以上只是实际开发中的一种情况而已，供参考</p>
</li>
</ol>

      <p><img data-fancybox="gallery" src="" alt="" data-caption="" loading="lazy"></p>
  </article>

  
      
    <div class="nexmoe-post-copyright">
        <strong>本文作者：</strong>xsc<br>
        <strong>本文链接：</strong><a href="https://lzque.github.io/posts/9bd.html" title="https:&#x2F;&#x2F;lzque.github.io&#x2F;posts&#x2F;9bd.html" target="_blank" rel="noopener">https:&#x2F;&#x2F;lzque.github.io&#x2F;posts&#x2F;9bd.html</a><br>
        
            <strong>版权声明：</strong>本文采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/deed.zh" target="_blank">CC BY-NC-SA 3.0 CN</a> 协议进行许可
        
    </div>


  
  
  <div class="nexmoe-post-meta nexmoe-rainbow">
    
        <a class="nexmoefont icon-appstore-fill -link" href="/categories/Git/">Git</a>
    
    
        <a class="nexmoefont icon-tag-fill -none-link" href="/tags/Git-%E5%9F%BA%E7%A1%80/" rel="tag">Git 基础</a> <a class="nexmoefont icon-tag-fill -none-link" href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="tag">学习笔记</a>
    
</div>
  
   
      <div class="nexmoe-post-footer">
          <section class="nexmoe-comment">
    <div id="vcomments"></div>
<!-- 先引入样式,从footer提前 -->
<script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>
<!-- <script src="//unpkg.com/valine/dist/Valine.min.js"></script> -->
<!-- js每次更新加个版本号，否则浏览器缓存网页上不会更新 -->
<!-- @latest用于获取最新版本，不用指定 main 分支了，也无需版本号，否则每次更新要更改文件名可能才有效 -->
<!-- 算了，改文件名吧，两个地方：这里和上传文件名 -->
<script src="https://cdn.jsdelivr.net/gh/Lzque/blogImage@latest/valine/dist/Valine.min_1.0.a.js"></script>
<!-- 评论框美化 -->
<style>
    #nexmoe-content .nexmoe-post .nexmoe-comment .v .veditor {
        background-image: url(https://raw.githubusercontent.com/Lzque/blogImage/main/theme/202209260822949.png);
        background-position: right;
        background-size: auto 8.75em;
        background-repeat: no-repeat;
        background-color: #fff;
    }
    .v[data-class=v] .vcards .vcard .vh .vmeta .vat {
        font-size: .8125em;
        font-family: 'Arial';
        color: #9b9694;
        cursor: pointer;
        float: right;
    }   
    .v .vlist .vcard .vhead .vnick {
        position: relative;
        font-size: .875em;
        font-family: 'Arial';
        font-weight: 500;
        margin-right: 0.875em;
        cursor: pointer;
        text-decoration: none;
        display: inline-block;
    }
    #nexmoe-content .nexmoe-post .nexmoe-comment .v .vlist .vcard .vhead .vnick{
        color: #2fccc5;
    }
</style>

<script>
    new Valine({
        el: '#vcomments',
        lang: 'zh-cn',
        admin_email: '',//博主邮箱
        appId: '4QX4W5TgVTR2FpdUVeGmD77n-gzGzoHsz',
        appKey: 'ALQUV5yjebCh6pWtJH0qoTrQ',
        comment_count: true,       
        path: window.location.pathname,
        notify: false,
        verify: true,
        // avatar: 'monsterid',//小怪物头像
        placeholder: "渐行渐远" 
    });
     <!-- 每日一句 -->
    fetch('https://v1.hitokoto.cn')
     .then(response => response.json())
     .then(data => {
     let veditor = document.getElementById("veditor");
       veditor.setAttribute("placeholder",data.hitokoto+" ——  "+data.from);
       veditor.style.cssText="font-family: 'Arial';";
     }).catch(console.error);
</script>
<!-- 今日诗词：随机返回一句古诗词名句的接口，宅到用来做 Valine 的 placeholder 显示内容
<script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>
<script type="text/javascript">
    jinrishici.load(function(result) {
        var jrsc_plac =  result.data.content + "\n「" + result.data.origin.title + "」" + result.data.origin.dynasty + " · " + result.data.origin.author;
        document.getElementById("veditor").setAttribute("placeholder",jrsc_plac);
    })
</script>  -->

</section>
      </div>
   
</div>
            <div class="nexmoe-post-right">
              <div class="nexmoe-fixed">
                  <div class="nexmoe-tool"> 
                    
                      
                    
                      <a href="#nexmoe-content" class="toc-link" aria-label="Back To Top" title="top"><button class="mdui-fab mdui-ripple"><i class="nexmoefont icon-caret-top"></i></button></a>
                  </div>
              </div>
            </div>
        </div>
    </div>
    <div id="nexmoe-search-space">
	<div class="search-container">
		<div class="search-header">
			<div class="search-input-container">
				<input
					class="search-input"
					type="text"
					placeholder="搜索"
					oninput="sinput();"
				/>
			</div>
			<a class="search-close" onclick="sclose();">×</a>
		</div>
		<div class="search-body"></div>
	</div>
</div>

    
<script src="/lib/mdui_043tiny/mdui.js"></script>
<script src="/lib/jquery.min.js"></script>
<script src="/lib/justifiedGallery/jquery.justifiedGallery.min.js"></script>
<script src="/lib/fancybox/fancybox.umd.js"></script>


 

<script async src="/js/app.js?v=1665042348053"></script>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2058306854838448" crossorigin="anonymous"></script>

<script>
	$(".justified-gallery").justifiedGallery({
		rowHeight: 160,
		margins: 10,
	});
</script>


<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"hHeadPos":0.5,"vHeadPos":0.618,"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"superSample":2,"width":150,"height":300,"position":"left","hOffset":25,"vOffset":20},"mobile":{"show":false,"scale":0.5},"react":{"opacityDefault":0.7,"opacityOnHover":0.2},"log":false});</script></body>
<!-- 打字机js -->
<script type="text/javascript" src="/js/typewriter.js"></script>
<!-- 动态背景 -->
<!-- <script type="text/javascript" src="/js/canvas.js"></script> -->
<!-- 雪花背景 -->
<script type="text/javascript" src="/lib/jquery.min.js"></script>
<script type="text/javascript" src="/js/snow2.js"></script>
<!-- 樱花的js链接:https://cdn.jsdelivr.net/gh/wallleap/cdn/js/sakura.js -->
<!-- 鼠标移动特效 -->
<script async src="/js/fairyDustCursor.js"></script>
<!-- 爆炸红心效果 -->
<!-- <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas> 
<script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script> 
<script type="text/javascript" src="/js/firework.js"></script> -->
<!-- 爱心点击效果 -->
<!-- <script async src="/js/love.min.js"></script> -->
<!-- 礼花点击效果 -->
<script async src="/js/explosion.min.js"></script>
<!-- 文字点击效果 -->
<script async src="/js/text.js"></script>

<!-- 手动引入音乐播放器 -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10/dist/APlayer.min.css"> 
<script src="https://cdn.jsdelivr.net/npm/aplayer@1.10/dist/APlayer.min.js"></script> 
<script src="https://cdn.jsdelivr.net/npm/meting@1.2/dist/Meting.min.js"></script> 

<!-- 不蒜子访问统计 -->
<script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

</html>
